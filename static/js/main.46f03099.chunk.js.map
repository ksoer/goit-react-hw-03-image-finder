{"version":3,"sources":["components/styles.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/fetchDataApi.js","App.js","index.js"],"names":["module","exports","Searchbar","state","inputSearch","handleInputChange","e","setState","target","value","handleSubmit","preventDefault","onSubmit","props","reset","className","st","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","Preloader","Button","color","height","width","rootModal","document","querySelector","Modal","handleKeydown","code","onClose","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","children","ImageGalleryItem","picture","onOpenPicture","src","webformatURL","alt","tags","ImageGalleryItem_image","ImageGallery","gallery","map","id","LoadMore","onLoadMore","fetchDataApi","searchQuery","page","URL","KEY","axios","get","then","res","data","App","showModal","showLoader","error","largeImage","total","fetchGallary","hits","prevState","scrollToDown","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleFormSubmit","toggleModal","handleOpenPicture","showLoadMore","Math","ceil","prevProps","message","length","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.46f03099.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__3m_Fz\",\"Searchbar\":\"styles_Searchbar__1kOZ1\",\"SearchForm\":\"styles_SearchForm__1uinL\",\"SearchForm_button\":\"styles_SearchForm_button__5sS-q\",\"SearchForm_button_label\":\"styles_SearchForm_button_label__3eUyo\",\"SearchForm_input\":\"styles_SearchForm_input__lYHx1\",\"ImageGallery\":\"styles_ImageGallery__2jByQ\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__MCVXv\",\"ImageGalleryItem_image\":\"styles_ImageGalleryItem_image__3YGPp\",\"Overlay\":\"styles_Overlay__1o1KB\",\"Modal\":\"styles_Modal__1lfwa\",\"Button\":\"styles_Button__1pR2I\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport st from '../styles.module.css';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    inputSearch: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ inputSearch: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    onSubmit(this.state.inputSearch);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ inputSearch: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={st.Searchbar}>\r\n        <form className={st.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={st.SearchForm_button}>\r\n            <span className={st.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={st.SearchForm_input}\r\n            type=\"text\"\r\n            value={this.state.inputSearch}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func };\r\n\r\nexport default Searchbar;","import Loader from 'react-loader-spinner';\r\nimport st from '../styles.module.css';\r\n\r\nexport default function Preloader() {\r\n  return (\r\n    <div className={st.Button}>\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}","  \r\nimport React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport st from '../styles.module.css';\r\n\r\nconst rootModal = document.querySelector('#rootModal');\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n render() {\r\n    return createPortal(\r\n      <div className={st.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={st.Modal}> {this.props.children}</div>\r\n      </div>,\r\n      rootModal,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;","import PropTypes from 'prop-types';\r\n\r\nimport st from '../styles.module.css';\r\n\r\nfunction ImageGalleryItem({ picture, onOpenPicture }) {\r\n  return (\r\n    <li\r\n      className={st.ImageGalleryItem}\r\n      onClick={() => {\r\n        onOpenPicture(picture);\r\n      }}\r\n    >\r\n      <img src={picture.webformatURL} alt={picture.tags} className={st.ImageGalleryItem_image} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  picture: PropTypes.object,\r\n  onOpenPicture: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;","import st from '../styles.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGallery({ gallery, onOpenPicture }) {\r\n  return (\r\n    <ul className={st.ImageGallery}>\r\n      {gallery.map(picture => (\r\n        <ImageGalleryItem\r\n          key={picture.id}\r\n          picture={picture}\r\n          onOpenPicture={onOpenPicture}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(PropTypes.object),\r\n  onOpenPicture: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;","import st from '../styles.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function LoadMore({ onLoadMore }) {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <button className={st.Button} type=\"button\" onClick={onLoadMore}>\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nLoadMore.propTypes = {\r\n  onLoadMore: PropTypes.func,\r\n};","import axios from 'axios';\r\n\r\nconst fetchDataApi = (searchQuery, page = 1) => {\r\n  const URL = 'https://pixabay.com/api/';\r\n  const KEY = '18667452-b6cf3b15ecb06490e1251bb0b';\r\n  return axios\r\n    .get(`${URL}?key=${KEY}&per_page=12&page=${page}&q=${searchQuery}`)\r\n    .then(res => res.data);\r\n};\r\n\r\nexport default fetchDataApi;","\nimport React, { Component } from 'react';\n\nimport st from './components/styles.module.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button'\n\nimport fetchDataApi from './services/fetchDataApi';\n\nexport class App extends Component {\n  state = {\n    gallery: [],\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    showLoader: false,\n    error: null,\n    largeImage: {},\n    total: 0,\n  };\n\n  componentDidMount() {\n    this.setState({ showLoader: true });\n    this.fetchGallary();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const naxtQuery = this.state.searchQuery;\n    if (prevQuery !== naxtQuery) {\n      this.fetchGallary();\n    }\n  }\n\n  fetchGallary = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ showLoader: true });\n\n    fetchDataApi(searchQuery, page)\n      .then(({ hits, total }) => {\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...hits],\n          page: prevState.page + 1,\n          total,\n        }));\n        this.scrollToDown();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ showLoader: false }));\n  };\n\n  scrollToDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleFormSubmit = searchQuery => {\n    if (this.state.searchQuery === searchQuery) {\n      return;\n    }\n    this.setState({ searchQuery, gallery: [], page: 1 });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  handleOpenPicture = largeImage => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  showLoadMore = () => {\n    const { total, page } = this.state;\n    return Math.ceil(total / 12) !== page - 1;\n  };\n\n  render() {\n    const { error, showLoader, showModal, gallery, largeImage } = this.state;\n    const showLoadMore = this.showLoadMore();\n    return (\n      <div className={st.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        {error && <p>{error.message}</p>}\n\n        {gallery.length > 0 && (\n          <ImageGallery\n            gallery={gallery}\n            onOpenPicture={this.handleOpenPicture}\n          />\n        )}\n\n        {showLoader && <Loader />}\n\n        {gallery.length > 0 && !showLoader && showLoadMore && (\n          <Button onLoadMore={this.fetchGallary} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImage.largeImageURL} alt={largeImage.tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}